{"ast":null,"code":"var _jsxFileName = \"/Users/alligator/Documents/education/projects/2022/sobaki/client/src/features/Finder/Finder.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { Formik, Field, Form } from 'formik';\nimport classes from './Finder.module.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Finder = ({\n  setParams,\n  allStations\n}) => {\n  _s();\n  const [swap, setSwap] = useState(false);\n\n  // console.log('finder');\n  const titles = allStations === null || allStations === void 0 ? void 0 : allStations.map(({\n    stations\n  }) => stations.map(({\n    title\n  }) => title)).flat();\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Formik, {\n      initialValues: {\n        from: '',\n        to: ''\n      },\n      onSubmit: (values, {\n        setSubmitting\n      }) => {\n        if (!swap && setParams) {\n          setParams({\n            from: values.from,\n            to: values.to\n          });\n        }\n        if (swap && setParams) {\n          setParams({\n            from: values.to,\n            to: values.from\n          });\n        }\n        setSubmitting(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(Form, {\n        children: [/*#__PURE__*/_jsxDEV(Field, {\n          id: !swap ? 'from' : 'to',\n          name: !swap ? 'from' : 'to',\n          placeholder: \"\\u041E\\u0442\\u043A\\u0443\\u0434\\u0430\",\n          list: \"megalist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => setSwap(!swap),\n          className: classes.swap,\n          \"data-testid\": \"swapper\",\n          children: \"\\u21C4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Field, {\n          id: swap ? 'from' : 'to',\n          name: swap ? 'from' : 'to',\n          placeholder: \"\\u041A\\u0443\\u0434\\u0430\",\n          list: \"megalist\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          \"data-testid\": \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n_s(Finder, \"+X2UFtxOAEJcrBEQghVnqSbRNWs=\");\n_c = Finder;\nexport default Finder;\nvar _c;\n$RefreshReg$(_c, \"Finder\");","map":{"version":3,"names":["React","useState","Formik","Field","Form","classes","jsxDEV","_jsxDEV","Fragment","_Fragment","Finder","setParams","allStations","_s","swap","setSwap","titles","map","stations","title","flat","children","initialValues","from","to","onSubmit","values","setSubmitting","id","name","placeholder","list","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","className","_c","$RefreshReg$"],"sources":["/Users/alligator/Documents/education/projects/2022/sobaki/client/src/features/Finder/Finder.tsx"],"sourcesContent":["import React, {FC, useState} from \"react\"\nimport { Formik, Field, Form, FormikHelpers } from 'formik';\n\nimport classes from './Finder.module.scss';\nimport {AllStations} from \"../../types\";\n\nexport interface Values {\n  from: string;\n  to: string;\n}\n\ninterface Props {\n  setParams?: React.Dispatch<React.SetStateAction<Values>>;\n  allStations?: AllStations[];\n}\n\nconst Finder: FC<Props> = ({setParams, allStations}) => {\n  const [swap, setSwap] = useState(false);\n\n // console.log('finder');\n  const titles: string[] | undefined = allStations?.map(({stations}) => stations.map(({title}) => title)).flat();\n\n  return (\n    <>\n      <Formik\n        initialValues={{\n          from: '',\n          to: '',\n        }}\n        onSubmit={( values: Values, { setSubmitting }: FormikHelpers<Values>) => {\n          if (!swap && setParams) {\n            setParams({\n              from: values.from,\n              to: values.to\n            });\n          }\n          if (swap && setParams) {\n            setParams({\n              from: values.to,\n              to: values.from\n            });\n          }\n          setSubmitting(false);\n        }}\n      >\n        <Form>\n          <Field id={!swap ? 'from' : 'to'} name={!swap ? 'from' : 'to'} placeholder=\"Откуда\" list=\"megalist\" />\n          {/*<datalist id=\"megalist\">*/}\n          {/*  {titles?.map((title) => <option value={title} key={title} />)}*/}\n          {/*</datalist>*/}\n          <button\n            type=\"button\"\n            onClick={() => setSwap(!swap)}\n            className={classes.swap}\n            data-testid=\"swapper\"\n          >⇄</button>\n\n          <Field id={swap ? 'from' : 'to'} name={swap ? 'from' : 'to'} placeholder=\"Куда\" list=\"megalist\"/>\n\n          <button type=\"submit\" data-testid=\"submit\">Submit</button>\n        </Form>\n      </Formik>\n    </>\n  )\n}\n\nexport default Finder\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}