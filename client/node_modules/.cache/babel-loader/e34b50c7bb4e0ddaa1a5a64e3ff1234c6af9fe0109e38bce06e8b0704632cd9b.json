{"ast":null,"code":"var _jsxFileName = \"/Users/alligator/Documents/education/projects/2022/sobaki/client/src/features/Schedule/Schedule.tsx\",\n  _s = $RefreshSig$();\nimport React, { memo, useState } from \"react\";\nimport Flight from \"../../components/Flight/Flight\";\nimport { separatePastAndFuture } from \"../../helpers/separatePastAndFuture\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Schedule = /*#__PURE__*/_s( /*#__PURE__*/memo(_c = _s(({\n  schedule\n}) => {\n  _s();\n  const [showPast, setShowPast] = useState(false);\n  if (schedule === undefined || Object.values(schedule).length === 0) {\n    return null;\n  }\n  const {\n    date,\n    from,\n    to\n  } = schedule.search;\n  const {\n    segments\n  } = schedule;\n  const {\n    past,\n    future\n  } = separatePastAndFuture(segments);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      \"data-testid\": \"topTitleFrom\",\n      children: [\"\\u041E\\u0442\\u043A\\u0443\\u0434\\u0430: \", from.title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u041A\\u0443\\u0434\\u0430: \", to.title]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [\"\\u041A\\u043E\\u0433\\u0434\\u0430: \", new Date(date).toLocaleDateString('ru-RU', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 7\n    }, this), showPast && past.map((segment, i) => {\n      var _segment$tickets_info;\n      return /*#__PURE__*/_jsxDEV(Flight, {\n        stops: segment.stops,\n        arrival: segment.arrival,\n        departure: segment.departure,\n        duration: segment.duration,\n        title: segment.thread.short_title,\n        subtype: segment.thread.transport_subtype.title,\n        price: (_segment$tickets_info = segment.tickets_info) === null || _segment$tickets_info === void 0 ? void 0 : _segment$tickets_info.places[0].price.whole\n      }, i + \"\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 11\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: () => setShowPast(!showPast),\n      children: !showPast ? 'Показать ушедние собаки' : 'Скрыть ушедшие собаки'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), future.map((segment, i) => {\n      var _segment$tickets_info2;\n      return /*#__PURE__*/_jsxDEV(Flight, {\n        stops: segment.stops,\n        arrival: segment.arrival,\n        departure: segment.departure,\n        duration: segment.duration,\n        title: segment.thread.short_title,\n        subtype: segment.thread.transport_subtype.title,\n        price: (_segment$tickets_info2 = segment.tickets_info) === null || _segment$tickets_info2 === void 0 ? void 0 : _segment$tickets_info2.places[0].price.whole\n      }, i + \"\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this);\n    })]\n  }, void 0, true);\n}, \"ypf2Ym/pbMwgA8smGy+ezuxO6uQ=\")), \"ypf2Ym/pbMwgA8smGy+ezuxO6uQ=\");\n_c2 = Schedule;\nexport default Schedule;\nvar _c, _c2;\n$RefreshReg$(_c, \"Schedule$memo\");\n$RefreshReg$(_c2, \"Schedule\");","map":{"version":3,"names":["React","memo","useState","Flight","separatePastAndFuture","jsxDEV","_jsxDEV","Fragment","_Fragment","Schedule","_s","_c","schedule","showPast","setShowPast","undefined","Object","values","length","date","from","to","search","segments","past","future","children","title","fileName","_jsxFileName","lineNumber","columnNumber","Date","toLocaleDateString","year","month","day","map","segment","i","_segment$tickets_info","stops","arrival","departure","duration","thread","short_title","subtype","transport_subtype","price","tickets_info","places","whole","type","onClick","_segment$tickets_info2","_c2","$RefreshReg$"],"sources":["/Users/alligator/Documents/education/projects/2022/sobaki/client/src/features/Schedule/Schedule.tsx"],"sourcesContent":["import React, {FC, memo, useState} from \"react\"\n\nimport {Segment, Status} from \"../../types\";\nimport Flight from \"../../components/Flight/Flight\";\nimport {separatePastAndFuture} from \"../../helpers/separatePastAndFuture\";\n\ninterface Props {\n  schedule: any;\n  currentDate: string;\n  // scheduleStatus: Status;\n  status: Status;\n}\n\nconst Schedule: FC<Props> = memo(({schedule}) => {\n  const [showPast, setShowPast] = useState(false);\n\n  if (schedule === undefined || Object.values(schedule).length === 0) {\n    return null;\n  }\n\n  const {date, from, to} = schedule.search;\n  const {segments} = schedule;\n  const {past, future} = separatePastAndFuture(segments);\n\n  return (\n    <>\n      <div data-testid=\"topTitleFrom\">Откуда: {from.title}</div>\n      <div>Куда: {to.title}</div>\n      <div>Когда: {new Date(date).toLocaleDateString('ru-RU', { year: 'numeric', month: 'long', day: 'numeric' })}</div>\n\n      {showPast && past.map((segment: Segment, i: number) => {\n        return (\n          <Flight\n            key={i + \"\"}\n            stops={segment.stops}\n            arrival={segment.arrival}\n            departure={segment.departure}\n            duration={segment.duration}\n            title={segment.thread.short_title}\n            subtype={segment.thread.transport_subtype.title}\n            price={segment.tickets_info?.places[0].price.whole}\n          />\n        )\n      })}\n\n      <button\n        type=\"button\"\n        onClick={() => setShowPast(!showPast)}\n      >\n        {!showPast ? 'Показать ушедние собаки' : 'Скрыть ушедшие собаки'}\n      </button>\n      {future.map((segment: Segment, i: number) => {\n        return (\n          <Flight\n            key={i + \"\"}\n            stops={segment.stops}\n            arrival={segment.arrival}\n            departure={segment.departure}\n            duration={segment.duration}\n            title={segment.thread.short_title}\n            subtype={segment.thread.transport_subtype.title}\n            price={segment.tickets_info?.places[0].price.whole}\n          />\n        )\n      })}\n    </>\n  )\n})\n\nexport default Schedule\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}